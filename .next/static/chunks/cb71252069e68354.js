(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94814,e=>{"use strict";var r=e.i(53145);let t=(e,t,a)=>{if(e&&"reportValidity"in e){let s=(0,r.get)(a,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},a=(e,r)=>{for(let a in r.fields){let s=r.fields[a];s&&s.ref&&"reportValidity"in s.ref?t(s.ref,a,e):s.refs&&s.refs.forEach(r=>t(r,a,e))}},s=(e,r)=>e.some(e=>e.startsWith(r+"."));var i=function(e,t){for(var a={};e.length;){var s=e[0],i=s.code,l=s.message,n=s.path.join(".");if(!a[n])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];a[n]={message:o.message,type:o.code}}else a[n]={message:l,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),t){var d=a[n].types,c=d&&d[s.code];a[n]=(0,r.appendErrors)(n,t,a,i,c?[].concat(c,s.message):s.message)}e.shift()}return a},l=function(e,t,l){return void 0===l&&(l={}),function(n,o,d){try{return Promise.resolve(function(r,s){try{var i=Promise.resolve(e["sync"===l.mode?"parse":"parseAsync"](n,t)).then(function(e){return d.shouldUseNativeValidation&&a({},d),{errors:{},values:l.raw?n:e}})}catch(e){return s(e)}return i&&i.then?i.then(void 0,s):i}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:((e,t)=>{t.shouldUseNativeValidation&&a(e,t);let i={};for(let a in e){let l=(0,r.get)(t.fields,a),n=Object.assign(e[a]||{},{ref:l&&l.ref});if(s(t.names||Object.keys(e),a)){let e=Object.assign({},(0,r.get)(i,a));(0,r.set)(e,"root",n),(0,r.set)(i,a,e)}else(0,r.set)(i,a,n)}return i})(i(e.errors,!d.shouldUseNativeValidation&&"all"===d.criteriaMode),d)};throw e}))}catch(e){return Promise.reject(e)}}};e.s(["zodResolver",()=>l],94814)},98749,e=>{"use strict";let r=new(e.i(17751)).QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:3e5,retry:!1}}}),t=async(e,r,t)=>{let a=await fetch(r,{method:e,headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0});if(!a.ok){let e;try{e=await a.json()}catch{}throw Error(e?.message||a.statusText)}return a};e.s(["apiRequest",0,t,"queryClient",0,r])},31278,e=>{"use strict";let r=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},10708,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(48425),s=t.forwardRef((e,t)=>(0,r.jsx)(a.Primitive.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s.displayName="Label";var i=e.i(25913),l=e.i(47163);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...t},a)=>(0,r.jsx)(s,{ref:a,className:(0,l.cn)(n(),e),...t}));o.displayName=s.displayName,e.s(["Label",()=>o],10708)},69638,e=>{"use strict";let r=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>r],69638)},74946,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(91918),s=e.i(53145),i=e.i(47163),l=e.i(10708);let n=s.FormProvider,o=t.createContext({}),d=({...e})=>(0,r.jsx)(o.Provider,{value:{name:e.name},children:(0,r.jsx)(s.Controller,{...e})}),c=()=>{let e=t.useContext(o),r=t.useContext(m),{getFieldState:a,formState:i}=(0,s.useFormContext)(),l=a(e.name,i);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},m=t.createContext({}),u=t.forwardRef(({className:e,...a},s)=>{let l=t.useId();return(0,r.jsx)(m.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:s,className:(0,i.cn)("space-y-2",e),...a})})});u.displayName="FormItem";let h=t.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:n}=c();return(0,r.jsx)(l.Label,{ref:a,className:(0,i.cn)(s&&"text-destructive",e),htmlFor:n,...t})});h.displayName="FormLabel";let x=t.forwardRef(({...e},t)=>{let{error:s,formItemId:i,formDescriptionId:l,formMessageId:n}=c();return(0,r.jsx)(a.Slot,{ref:t,id:i,"aria-describedby":s?`${l} ${n}`:`${l}`,"aria-invalid":!!s,...e})});x.displayName="FormControl",t.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=c();return(0,r.jsx)("p",{ref:a,id:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let p=t.forwardRef(({className:e,children:t,...a},s)=>{let{error:l,formMessageId:n}=c(),o=l?String(l?.message??""):t;return o?(0,r.jsx)("p",{ref:s,id:n,className:(0,i.cn)("text-sm font-medium text-destructive",e),...a,children:o}):null});p.displayName="FormMessage",e.s(["Form",()=>n,"FormControl",()=>x,"FormField",()=>d,"FormItem",()=>u,"FormLabel",()=>h,"FormMessage",()=>p])},72637,e=>{"use strict";var r=e.i(43476),t=e.i(59015),a=e.i(67881),s=e.i(70065),i=e.i(69638),l=e.i(71645),n=e.i(53145),o=e.i(94814),d=e.i(43004),c=e.i(74946),m=e.i(23750),u=e.i(62870),h=e.i(31278),x=e.i(20682),p=e.i(98749);let f=d.object({firstName:d.string().min(2,"Name is required"),lastName:d.string().min(1,"Last name is required"),tgmcId:d.string().min(3,"TGMC ID is required"),email:d.string().email("Invalid email address"),phone:d.string().min(10,"Valid phone number required"),address:d.string().min(5,"Address is required"),district:d.string().min(1,"District is required"),spouseName:d.string().optional(),spouseTgmcId:d.string().optional()}),g=["Adilabad","Bhadradri Kothagudem","Hanumakonda","Hyderabad","Jagtial","Jangaon","Jayashankar Bhupalpally","Jogulamba Gadwal","Kamareddy","Karimnagar","Khammam","Kumuram Bheem Asifabad","Mahabubabad","Mahabubnagar","Mancherial","Medak","Medchal-Malkajgiri","Mulugu","Nagarkurnool","Nalgonda","Narayanpet","Nirmal","Nizamabad","Peddapalli","Rajanna Sircilla","Ranga Reddy","Sangareddy","Siddipet","Suryapet","Vikarabad","Wanaparthy","Warangal","Yadadri Bhuvanagiri"];function j({onSuccess:e}){let[t,i]=(0,l.useState)(!1),{toast:d}=(0,x.useToast)(),[j,y]=(0,l.useState)(!1),[b,N]=(0,l.useState)([]),v=e=>{let r=e.fullname||"",t=r.trim().split(" "),a=r,s=".";t.length>1&&(a=t[0],s=t.slice(1).join(" ")),w.setValue("firstName",a),w.setValue("lastName",s);let i=[e.address1,e.address2].filter(Boolean).join(", ");w.setValue("address",i),e.mobileno&&w.setValue("phone",e.mobileno),N([]),d({title:"Details Auto-filled",description:"Please verify the information."})},F=async()=>{let e=w.getValues("tgmcId");if(!e||e.length<4)return void d({title:"Invalid ID",description:"Please enter a valid TGMC ID",variant:"destructive"});y(!0),N([]);try{let r=await fetch(`/api/external/tsmc-doctor/${e}`);if(!r.ok)throw Error("Failed to fetch");let t=(await r.json()).data||[];Array.isArray(t)&&t.length>0?1===t.length?v(t[0]):(N(t),d({title:"Multiple Records Found",description:"Please select your profile from the list."})):d({title:"Details Not Found",description:"You can proceed by filling the form manually.",variant:"default"})}catch(e){d({title:"Fetch Failed",description:"Could not fetch details. Please fill the form manually.",variant:"destructive"})}finally{y(!1)}},w=(0,n.useForm)({resolver:(0,o.zodResolver)(f),defaultValues:{firstName:"",lastName:"",tgmcId:"",email:"",phone:"",address:"",district:"",spouseName:"",spouseTgmcId:""}}),C=async e=>{i(!0);try{let r=await (0,p.apiRequest)("POST","/api/registrations/order",{amount:1015,currency:"INR",receipt:`rcpt_${Date.now()}`}),t=await r.json(),a={key:t.key_id,amount:t.amount,currency:t.currency,name:"HRDA Telangana",description:"Lifetime Membership",order_id:t.id,handler:async function(r){try{await (0,p.apiRequest)("POST","/api/registrations/verify",{razorpay_payment_id:r.razorpay_payment_id,razorpay_order_id:r.razorpay_order_id,razorpay_signature:r.razorpay_signature,userData:{...e,membershipType:"single"}});let{location:t}=window;t.href="/thank-you"}catch(e){d({title:"Verification Failed",description:"Payment successful but verification failed. Please contact support.",variant:"destructive"})}},prefill:{name:`${e.firstName} ${e.lastName}`,email:e.email,contact:e.phone},theme:{color:"#2563eb"}};if("rzp_test_mock_key"===t.key_id){console.log("Using Mock Payment Flow"),a.handler({razorpay_payment_id:`pay_mock_${Date.now()}`,razorpay_order_id:t.id,razorpay_signature:"mock_signature"});return}new window.Razorpay(a).open()}catch(e){d({title:"Registration Failed",description:"Could not initiate payment. Please try again.",variant:"destructive"})}finally{i(!1)}};return(0,r.jsxs)(s.Card,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[(0,r.jsxs)(s.CardHeader,{children:[(0,r.jsx)(s.CardTitle,{className:"text-2xl text-center text-primary",children:"Membership Registration"}),(0,r.jsx)(s.CardDescription,{className:"text-center",children:"Enter your details to join HRDA. Secure payment via Razorpay."})]}),(0,r.jsx)(s.CardContent,{children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"bg-primary/5 p-4 rounded-lg mb-8 text-center border border-primary/20",children:(0,r.jsx)("p",{className:"font-semibold text-primary",children:"Lifetime Membership: ₹1015"})}),(0,r.jsx)(c.Form,{...w,children:(0,r.jsxs)("form",{onSubmit:w.handleSubmit(C),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-4 mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,r.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,r.jsx)(c.FormField,{control:w.control,name:"tgmcId",render:({field:e})=>(0,r.jsxs)(c.FormItem,{className:"flex-1",children:[(0,r.jsx)(c.FormLabel,{children:"Telangana Medical Council Reg. No"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"Enter TGMC ID (e.g. 17599)",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(a.Button,{type:"button",variant:"secondary",className:"mb-2",onClick:F,disabled:j,children:j?(0,r.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):"Fetch Details"})]}),(0,r.jsx)("p",{className:"text-red-500   text-xs text-muted-foreground -mt-3 mb-2",children:"If details are not found, you can still register by filling the form manually."}),b.length>0&&(0,r.jsxs)("div",{className:"space-y-2 mt-2 border-t pt-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Select your profile:"}),(0,r.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:b.map((e,t)=>(0,r.jsxs)("div",{className:"p-3 bg-white border rounded cursor-pointer hover:border-primary flex justify-between items-center",onClick:()=>v(e),children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("p",{className:"font-bold",children:e.fullname}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:[e.address1,e.address2].filter(Boolean).join(", ")}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["FMR: ",e.original_fmr_no||e.fmr_no]})]}),(0,r.jsx)(a.Button,{size:"sm",variant:"ghost",type:"button",children:"Select"})]},t))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(c.FormField,{control:w.control,name:"firstName",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"First Name"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"Dr. John",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(c.FormField,{control:w.control,name:"lastName",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Last Name"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"Doe",...e})}),(0,r.jsx)(c.FormMessage,{})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(c.FormField,{control:w.control,name:"phone",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Phone Number"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"9876543210",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(c.FormField,{control:w.control,name:"email",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Email Address"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"doctor@example.com",type:"email",...e})}),(0,r.jsx)(c.FormMessage,{})]})})]}),(0,r.jsx)(c.FormField,{control:w.control,name:"district",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Choose the district you want to represent"}),(0,r.jsxs)(u.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(u.SelectTrigger,{children:(0,r.jsx)(u.SelectValue,{placeholder:"Select District"})})}),(0,r.jsx)(u.SelectContent,{className:"max-h-[200px]",children:g.map(e=>(0,r.jsx)(u.SelectItem,{value:e,children:e},e))})]}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(c.FormField,{control:w.control,name:"address",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Address"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(m.Input,{placeholder:"Clinic or Home Address",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(a.Button,{type:"submit",className:"w-full mt-6",size:"lg",disabled:t,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing Payment..."]}):(0,r.jsx)(r.Fragment,{children:"Pay & Register ₹1015"})})]})})]})})]})}function y(){let[e,n]=(0,l.useState)(!1);return(0,r.jsxs)(t.Layout,{children:[(0,r.jsx)("div",{className:"bg-primary py-20 text-white text-center",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-serif font-bold mb-6",children:"Become a Member"}),(0,r.jsx)("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Join the strongest voice for doctors in Telangana. Your support strengthens our cause."})]})}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-slate-900",children:"Why Join HRDA?"}),(0,r.jsx)("div",{className:"space-y-4",children:["Representation in government policy making","Legal and professional support","Networking with medical professionals across the state","Access to academic workshops and conferences","A unified voice against violence and injustice"].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(i.CheckCircle,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,r.jsx)("p",{className:"text-slate-700",children:e})]},t))}),(0,r.jsxs)("div",{className:"mt-8 p-6 bg-slate-50 rounded-xl border border-slate-200",children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Have Questions?"}),(0,r.jsxs)("p",{className:"text-slate-600 mb-1",children:["Email us at: ",(0,r.jsx)("span",{className:"font-medium text-primary",children:"hrda4people@gmail.com"})]}),(0,r.jsx)("p",{className:"text-slate-600",children:"We are here to help you with the registration process."})]})]}),e?(0,r.jsx)(s.Card,{className:"shadow-xl border-t-8 border-t-green-500",children:(0,r.jsxs)(s.CardContent,{className:"p-8 text-center bg-green-50",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(i.CheckCircle,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-2 text-green-800",children:"Registration Successful!"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"Thank you for joining HRDA. Your membership details have been recorded. A confirmation email has been sent to your registered address."}),(0,r.jsx)(a.Button,{onClick:()=>n(!1),variant:"outline",children:"Register Another Member"})]})}):(0,r.jsx)(j,{onSuccess:()=>n(!0)})]})})]})}e.s(["default",()=>y],72637)}]);