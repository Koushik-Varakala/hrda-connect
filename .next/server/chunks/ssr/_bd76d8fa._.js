module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},52640,a=>{"use strict";var b=a.i(36570),c=a.i(63592);let d={validation:b.z.object({message:b.z.string(),field:b.z.string().optional()}),notFound:b.z.object({message:b.z.string()}),internal:b.z.object({message:b.z.string()}),unauthorized:b.z.object({message:b.z.string()})},e={announcements:{list:{method:"GET",path:"/api/announcements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/announcements",input:c.insertAnnouncementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/announcements/:id",input:c.insertAnnouncementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/announcements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},panels:{list:{method:"GET",path:"/api/panels",input:b.z.object({type:b.z.enum(["state","district"]).optional(),district:b.z.string().optional()}).optional(),responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/panels",input:c.insertPanelSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/panels/:id",input:c.insertPanelSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/panels/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},achievements:{list:{method:"GET",path:"/api/achievements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/achievements",input:c.insertAchievementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/achievements/:id",input:c.insertAchievementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/achievements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},mediaCoverage:{list:{method:"GET",path:"/api/media-coverage",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/media-coverage",input:c.insertMediaCoverageSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/media-coverage/:id",input:c.insertMediaCoverageSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/media-coverage/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},departments:{list:{method:"GET",path:"/api/departments",responses:{200:b.z.array(b.z.custom())}},update:{method:"PUT",path:"/api/departments/:id",input:c.insertDepartmentSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}}},registrations:{search:{method:"GET",path:"/api/registrations/search",input:b.z.object({tgmcId:b.z.string().optional(),phone:b.z.string().optional()}),responses:{200:b.z.array(b.z.custom()),404:d.notFound}},create:{method:"POST",path:"/api/registrations",input:c.insertRegistrationSchema,responses:{201:b.z.custom(),400:d.validation}},update:{method:"PUT",path:"/api/registrations/:id",input:c.insertRegistrationSchema.partial(),responses:{200:b.z.custom(),404:d.notFound}},delete:{method:"DELETE",path:"/api/registrations/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}},list:{method:"GET",path:"/api/admin/registrations",responses:{200:b.z.array(b.z.custom()),401:d.unauthorized}}}};function f(a,b){let c=a;return b&&Object.entries(b).forEach(([a,b])=>{c.includes(`:${a}`)&&(c=c.replace(`:${a}`,String(b)))}),c}a.s(["api",0,e,"buildUrl",()=>f])},46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},51190,a=>{"use strict";var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(52640),f=a.i(77687);function g(){return(0,b.useQuery)({queryKey:[e.api.departments.list.path],queryFn:async()=>{let a=await fetch(e.api.departments.list.path,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch departments");return e.api.departments.list.responses[200].parse(await a.json())}})}function h(){let a=(0,d.useQueryClient)(),{toast:b}=(0,f.useToast)();return(0,c.useMutation)({mutationFn:async({id:a,...b})=>{let c=(0,e.buildUrl)(e.api.departments.update.path,{id:a}),d=await fetch(c,{method:e.api.departments.update.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(b),credentials:"include"});if(!d.ok)throw Error("Failed to update department");return e.api.departments.update.responses[200].parse(await d.json())},onSuccess:()=>{a.invalidateQueries({queryKey:[e.api.departments.list.path]}),b({title:"Success",description:"Department updated successfully"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}a.s(["useDepartments",()=>g,"useUpdateDepartment",()=>h])},22268,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(46893),e=a.i(5522),f=a.i(51190),g=a.i(3130),h=a.i(72131),i=a.i(77687);function j(){let{data:a,isLoading:c}=(0,f.useDepartments)(),d=(0,f.useUpdateDepartment)(),{toast:e}=(0,i.useToast)(),g=(a,b,c,e)=>{d.mutate({id:a,content:b,title:c,imageUrl:e})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Manage Departments"}),(0,b.jsx)("div",{className:"space-y-8",children:c?(0,b.jsx)("div",{children:"Loading..."}):a?.map(a=>(0,b.jsx)(k,{dept:a,onSave:g,isSaving:d.isPending},a.id))})]})}function k({dept:a,onSave:f,isSaving:i}){let[j,k]=(0,h.useState)(a.content),[l,m]=(0,h.useState)(a.title),[n,o]=(0,h.useState)(a.imageUrl||""),p=j!==a.content||l!==a.title||n!==(a.imageUrl||"");return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)(g.CardTitle,{className:"capitalize",children:[a.type," Department"]}),(0,b.jsx)(c.Button,{onClick:()=>f(a.id,j,l,n),disabled:!p||i,children:i?"Saving...":"Save Changes"})]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,b.jsx)(e.Input,{value:l,onChange:a=>m(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Image URL"}),(0,b.jsx)(e.Input,{value:n,onChange:a=>o(a.target.value),placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Content"}),(0,b.jsx)(d.Textarea,{value:j,onChange:a=>k(a.target.value),className:"min-h-[200px] font-mono text-sm"})]})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=_bd76d8fa._.js.map