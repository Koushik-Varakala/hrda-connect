module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},7827,5784,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d],7827);let e=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>e],5784)},52640,a=>{"use strict";var b=a.i(36570),c=a.i(63592);let d={validation:b.z.object({message:b.z.string(),field:b.z.string().optional()}),notFound:b.z.object({message:b.z.string()}),internal:b.z.object({message:b.z.string()}),unauthorized:b.z.object({message:b.z.string()})},e={announcements:{list:{method:"GET",path:"/api/announcements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/announcements",input:c.insertAnnouncementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/announcements/:id",input:c.insertAnnouncementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/announcements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},panels:{list:{method:"GET",path:"/api/panels",input:b.z.object({type:b.z.enum(["state","district"]).optional(),district:b.z.string().optional()}).optional(),responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/panels",input:c.insertPanelSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/panels/:id",input:c.insertPanelSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/panels/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},achievements:{list:{method:"GET",path:"/api/achievements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/achievements",input:c.insertAchievementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/achievements/:id",input:c.insertAchievementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/achievements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},mediaCoverage:{list:{method:"GET",path:"/api/media-coverage",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/media-coverage",input:c.insertMediaCoverageSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/media-coverage/:id",input:c.insertMediaCoverageSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/media-coverage/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},departments:{list:{method:"GET",path:"/api/departments",responses:{200:b.z.array(b.z.custom())}},update:{method:"PUT",path:"/api/departments/:id",input:c.insertDepartmentSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}}},registrations:{search:{method:"GET",path:"/api/registrations/search",input:b.z.object({tgmcId:b.z.string().optional(),phone:b.z.string().optional()}),responses:{200:b.z.array(b.z.custom()),404:d.notFound}},create:{method:"POST",path:"/api/registrations",input:c.insertRegistrationSchema,responses:{201:b.z.custom(),400:d.validation}},update:{method:"PUT",path:"/api/registrations/:id",input:c.insertRegistrationSchema.partial(),responses:{200:b.z.custom(),404:d.notFound}},delete:{method:"DELETE",path:"/api/registrations/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}},list:{method:"GET",path:"/api/admin/registrations",responses:{200:b.z.array(b.z.custom()),401:d.unauthorized}}}};function f(a,b){let c=a;return b&&Object.entries(b).forEach(([a,b])=>{c.includes(`:${a}`)&&(c=c.replace(`:${a}`,String(b)))}),c}a.s(["api",0,e,"buildUrl",()=>f])},80281,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:k,defaultChecked:l,required:m,disabled:o,value:p="on",onCheckedChange:q,form:r,...u}=a,[v,w]=c.useState(null),x=(0,e.useComposedRefs)(f,a=>w(a)),y=c.useRef(!1),z=!v||r||!!v.closest("form"),[A=!1,B]=(0,g.useControllableState)({prop:k,defaultProp:l,onChange:q});return(0,b.jsxs)(n,{scope:h,checked:A,disabled:o,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":t(A),"data-disabled":o?"":void 0,disabled:o,value:p,...u,ref:x,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(s,{control:v,bubbles:!y.current,name:i,value:p,checked:A,required:m,disabled:o,form:r,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,j=c.useRef(null),k=(0,h.usePrevious)(e),l=(0,i.useSize)(d);return c.useEffect(()=>{let a=j.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t(a){return a?"checked":"unchecked"}var u=a.i(97895);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(p,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...c,ref:d,children:(0,b.jsx)(r,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v.displayName=p.displayName,a.s(["Switch",()=>v],80281)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},59501,a=>{"use strict";var b=a.i(95245);let c=(a,c,d)=>{if(a&&"reportValidity"in a){let e=(0,b.get)(d,c);a.setCustomValidity(e&&e.message||""),a.reportValidity()}},d=(a,b)=>{for(let d in b.fields){let e=b.fields[d];e&&e.ref&&"reportValidity"in e.ref?c(e.ref,d,a):e.refs&&e.refs.forEach(b=>c(b,d,a))}},e=(a,b)=>a.some(a=>a.startsWith(b+"."));var f=function(a,c){for(var d={};a.length;){var e=a[0],f=e.code,g=e.message,h=e.path.join(".");if(!d[h])if("unionErrors"in e){var i=e.unionErrors[0].errors[0];d[h]={message:i.message,type:i.code}}else d[h]={message:g,type:f};if("unionErrors"in e&&e.unionErrors.forEach(function(b){return b.errors.forEach(function(b){return a.push(b)})}),c){var j=d[h].types,k=j&&j[e.code];d[h]=(0,b.appendErrors)(h,c,d,f,k?[].concat(k,e.message):e.message)}a.shift()}return d},g=function(a,c,g){return void 0===g&&(g={}),function(h,i,j){try{return Promise.resolve(function(b,e){try{var f=Promise.resolve(a["sync"===g.mode?"parse":"parseAsync"](h,c)).then(function(a){return j.shouldUseNativeValidation&&d({},j),{errors:{},values:g.raw?h:a}})}catch(a){return e(a)}return f&&f.then?f.then(void 0,e):f}(0,function(a){if(Array.isArray(null==a?void 0:a.errors))return{values:{},errors:((a,c)=>{c.shouldUseNativeValidation&&d(a,c);let f={};for(let d in a){let g=(0,b.get)(c.fields,d),h=Object.assign(a[d]||{},{ref:g&&g.ref});if(e(c.names||Object.keys(a),d)){let a=Object.assign({},(0,b.get)(f,d));(0,b.set)(a,"root",h),(0,b.set)(f,d,a)}else(0,b.set)(f,d,h)}return f})(f(a.errors,!j.shouldUseNativeValidation&&"all"===j.criteriaMode),j)};throw a}))}catch(a){return Promise.reject(a)}}};a.s(["zodResolver",()=>g],59501)},88237,99464,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h],88237);let k=(0,a.i(70106).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>k],99464)},65733,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(97895);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},3688,a=>{"use strict";var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},11741,a=>{"use strict";var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(52640),f=a.i(77687);function g(a){let c=[e.api.panels.list.path,a?.type,a?.district].filter(Boolean);return(0,b.useQuery)({queryKey:c,queryFn:async()=>{let b=e.api.panels.list.path,c=new URLSearchParams;a?.type&&c.append("type",a.type),a?.district&&c.append("district",a.district),c.toString()&&(b+=`?${c.toString()}`);let d=await fetch(b,{credentials:"include"});if(!d.ok)throw Error("Failed to fetch panels");return e.api.panels.list.responses[200].parse(await d.json())}})}function h(){let a=(0,d.useQueryClient)(),{toast:b}=(0,f.useToast)();return(0,c.useMutation)({mutationFn:async a=>{let b=a instanceof FormData,c=await fetch(e.api.panels.create.path,{method:e.api.panels.create.method,headers:b?{}:{"Content-Type":"application/json"},body:b?a:JSON.stringify(a)});if(!c.ok)throw Error((await c.json()).message||"Failed to create panel member");return c.json()},onSuccess:()=>{a.invalidateQueries({queryKey:[e.api.panels.list.path]}),b({title:"Success",description:"Member added successfully"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}function i(){let a=(0,d.useQueryClient)(),{toast:b}=(0,f.useToast)();return(0,c.useMutation)({mutationFn:async({id:a,...b})=>{let c=(0,e.buildUrl)(e.api.panels.update.path,{id:a}),d="formData"in b,f=d?b.formData:JSON.stringify(b),g=await fetch(c,{method:e.api.panels.update.method,headers:d?{}:{"Content-Type":"application/json"},body:f});if(!g.ok)throw Error((await g.json()).message||"Failed to update panel member");return g.json()},onSuccess:()=>{a.invalidateQueries({queryKey:[e.api.panels.list.path]}),b({title:"Success",description:"Member updated successfully"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}function j(){let a=(0,d.useQueryClient)(),{toast:b}=(0,f.useToast)();return(0,c.useMutation)({mutationFn:async a=>{let b=(0,e.buildUrl)(e.api.panels.delete.path,{id:a});if(!(await fetch(b,{method:e.api.panels.delete.method,credentials:"include"})).ok)throw Error("Failed to delete panel member")},onSuccess:()=>{a.invalidateQueries({queryKey:[e.api.panels.list.path]}),b({title:"Success",description:"Member removed"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}a.s(["useCreatePanel",()=>h,"useDeletePanel",()=>j,"usePanels",()=>g,"useUpdatePanel",()=>i])},5465,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(5522),e=a.i(65733),f=a.i(88237),g=a.i(80281),h=a.i(87682),i=a.i(11741),j=a.i(95245),k=a.i(59501),l=a.i(63592),m=a.i(72131),n=a.i(99464),o=a.i(81560),p=a.i(15618);function q(){let{data:a,isLoading:q}=(0,i.usePanels)(),r=(0,i.useCreatePanel)(),s=(0,i.useUpdatePanel)(),t=(0,i.useDeletePanel)(),[u,v]=(0,m.useState)(!1),[w,x]=(0,m.useState)(null),y=(0,j.useForm)({resolver:(0,k.zodResolver)(l.insertPanelSchema),defaultValues:{name:"",role:"",district:"",category:"state_executive",isStateLevel:!1,imageUrl:"",phone:"",priority:99,active:!0}}),[z,A]=(0,m.useState)(null),[B,C]=(0,m.useState)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Panels"}),(0,b.jsxs)(e.Dialog,{open:u,onOpenChange:a=>{v(a),a||(x(null),y.reset(),A(null),C(null))},children:[(0,b.jsx)(e.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(c.Button,{children:[(0,b.jsx)(p.Plus,{className:"w-4 h-4 mr-2"})," Add Member"]})}),(0,b.jsxs)(e.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:w?"Edit Member":"New Member"})}),(0,b.jsxs)("form",{onSubmit:y.handleSubmit(a=>{let b=new FormData;b.append("name",a.name),b.append("role",a.role),b.append("category",a.category||"state_executive");let c=a.isStateLevel,d=a.district;"elected_member"===a.category?(c=!0,d=""):c&&(d=""),b.append("isStateLevel",String(c)),d&&b.append("district",d),a.phone&&b.append("phone",a.phone),a.priority&&b.append("priority",String(a.priority)),b.append("active",String(a.active??!0)),z?b.append("image",z):a.imageUrl&&b.append("imageUrl",a.imageUrl),w?s.mutate({id:w.id,formData:b},{onSuccess:()=>{v(!1),x(null),y.reset(),A(null),C(null)}}):r.mutate(b,{onSuccess:()=>{v(!1),y.reset(),A(null),C(null)}})}),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Name"}),(0,b.jsx)(d.Input,{...y.register("name")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Role"}),(0,b.jsx)(d.Input,{...y.register("role")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,b.jsx)(j.Controller,{control:y.control,name:"category",render:({field:a})=>(0,b.jsxs)(h.Select,{onValueChange:a.onChange,defaultValue:a.value||"state_executive",children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select Category"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"state_executive",children:"State Executive"}),(0,b.jsx)(h.SelectItem,{value:"elected_member",children:"Elected Member (Election Panel)"}),(0,b.jsx)(h.SelectItem,{value:"district_member",children:"District Member"})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,b.jsx)(j.Controller,{control:y.control,name:"isStateLevel",render:({field:a})=>(0,b.jsx)(g.Switch,{checked:a.value,onCheckedChange:a.onChange})}),(0,b.jsx)("label",{className:"text-sm font-medium",children:"Is State Level? (Overrides Category default)"})]}),!y.watch("isStateLevel")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"District"}),(0,b.jsx)(d.Input,{...y.register("district"),placeholder:"e.g. Hyderabad"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Target Image"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[B&&(0,b.jsx)("img",{src:B,alt:"Preview",className:"w-20 h-20 object-cover rounded-md border"}),!B&&y.watch("imageUrl")&&(0,b.jsx)("img",{src:y.watch("imageUrl"),alt:"Existing",className:"w-20 h-20 object-cover rounded-md border"}),(0,b.jsx)(d.Input,{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&(A(b),C(URL.createObjectURL(b)),y.setValue("imageUrl",""))}}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:"- OR -"}),(0,b.jsx)(d.Input,{...y.register("imageUrl"),placeholder:"Image URL (optional)"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Phone"}),(0,b.jsx)(d.Input,{...y.register("phone")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Priority (Sort Order)"}),(0,b.jsx)(d.Input,{type:"number",...y.register("priority",{valueAsNumber:!0}),placeholder:"1"})]})]}),(0,b.jsx)(c.Button,{type:"submit",className:"w-full",disabled:r.isPending||s.isPending,children:w?"Update":"Create"})]})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border shadow-sm",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Name"}),(0,b.jsx)(f.TableHead,{children:"Role"}),(0,b.jsx)(f.TableHead,{children:"Category"}),(0,b.jsx)(f.TableHead,{children:"District"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(f.TableBody,{children:q?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:5,className:"text-center",children:"Loading..."})}):a?.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(f.TableCell,{children:a.role}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:"capitalize text-sm text-slate-600",children:a.category?.replace("_"," ")||(a.isStateLevel?"State":"District")})}),(0,b.jsx)(f.TableCell,{children:a.district||"-"}),(0,b.jsxs)(f.TableCell,{className:"text-right",children:[(0,b.jsx)(c.Button,{variant:"ghost",size:"icon",onClick:()=>{x(a),y.reset({name:a.name,role:a.role,category:a.category||"state_executive",district:a.district||"",isStateLevel:a.isStateLevel,imageUrl:a.imageUrl||"",phone:a.phone||"",priority:a.priority||99,active:a.active}),C(a.imageUrl||null),v(!0)},children:(0,b.jsx)(n.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)(c.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>{var b;return b=a.id,void(confirm("Are you sure you want to delete this member?")&&t.mutate(b))},children:(0,b.jsx)(o.Trash2,{className:"w-4 h-4"})})]})]},a.id))})]})})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_7a467367._.js.map