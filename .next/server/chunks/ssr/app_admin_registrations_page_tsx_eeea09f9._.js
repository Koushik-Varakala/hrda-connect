module.exports=[55808,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(5522),e=a.i(65733),f=a.i(88237),g=a.i(87682),h=a.i(16564),i=a.i(95245),j=a.i(72131),k=a.i(99464),l=a.i(87532),m=a.i(81560),n=a.i(50104),o=a.i(70121),p=a.i(97942),q=a.i(7554),r=a.i(11011),s="AlertDialog",[t,u]=(0,n.createContextScope)(s,[p.createDialogScope]),v=(0,p.createDialogScope)(),w=a=>{let{__scopeAlertDialog:c,...d}=a,e=v(c);return(0,b.jsx)(p.Root,{...e,...d,modal:!0})};w.displayName=s;var x=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=v(d);return(0,b.jsx)(p.Trigger,{...f,...e,ref:c})});x.displayName="AlertDialogTrigger";var y=a=>{let{__scopeAlertDialog:c,...d}=a,e=v(c);return(0,b.jsx)(p.Portal,{...e,...d})};y.displayName="AlertDialogPortal";var z=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=v(d);return(0,b.jsx)(p.Overlay,{...f,...e,ref:c})});z.displayName="AlertDialogOverlay";var A="AlertDialogContent",[B,C]=t(A),D=(0,r.createSlottable)("AlertDialogContent"),E=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,children:e,...f}=a,g=v(d),h=j.useRef(null),i=(0,o.useComposedRefs)(c,h),k=j.useRef(null);return(0,b.jsx)(p.WarningProvider,{contentName:A,titleName:F,docsSlug:"alert-dialog",children:(0,b.jsx)(B,{scope:d,cancelRef:k,children:(0,b.jsxs)(p.Content,{role:"alertdialog",...g,...f,ref:i,onOpenAutoFocus:(0,q.composeEventHandlers)(f.onOpenAutoFocus,a=>{a.preventDefault(),k.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,b.jsx)(D,{children:e}),(0,b.jsx)(M,{contentRef:h})]})})})});E.displayName=A;var F="AlertDialogTitle",G=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=v(d);return(0,b.jsx)(p.Title,{...f,...e,ref:c})});G.displayName=F;var H="AlertDialogDescription",I=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=v(d);return(0,b.jsx)(p.Description,{...f,...e,ref:c})});I.displayName=H;var J=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=v(d);return(0,b.jsx)(p.Close,{...f,...e,ref:c})});J.displayName="AlertDialogAction";var K="AlertDialogCancel",L=j.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:f}=C(K,d),g=v(d),h=(0,o.useComposedRefs)(c,f);return(0,b.jsx)(p.Close,{...g,...e,ref:h})});L.displayName=K;var M=({contentRef:a})=>{let b=`\`${A}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${A}\` by passing a \`${H}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${A}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},N=a.i(97895);let O=j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(z,{className:(0,N.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c,ref:d}));O.displayName=z.displayName;let P=j.forwardRef(({className:a,...c},d)=>(0,b.jsxs)(y,{children:[(0,b.jsx)(O,{}),(0,b.jsx)(E,{ref:d,className:(0,N.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c})]}));P.displayName=E.displayName;let Q=({className:a,...c})=>(0,b.jsx)("div",{className:(0,N.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...c});Q.displayName="AlertDialogHeader";let R=({className:a,...c})=>(0,b.jsx)("div",{className:(0,N.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});R.displayName="AlertDialogFooter";let S=j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(G,{ref:d,className:(0,N.cn)("text-lg font-semibold",a),...c}));S.displayName=G.displayName;let T=j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(I,{ref:d,className:(0,N.cn)("text-sm text-muted-foreground",a),...c}));T.displayName=I.displayName;let U=j.forwardRef(({className:a,...d},e)=>(0,b.jsx)(J,{ref:e,className:(0,N.cn)((0,c.buttonVariants)(),a),...d}));U.displayName=J.displayName;let V=j.forwardRef(({className:a,...d},e)=>(0,b.jsx)(L,{ref:e,className:(0,N.cn)((0,c.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",a),...d}));function W(){let{data:a,isLoading:n}=(0,h.useRegistrationsList)(),o=(0,h.useUpdateRegistration)(),p=(0,h.useDeleteRegistration)(),[q,r]=(0,j.useState)(!1),[s,t]=(0,j.useState)(null),[u,v]=(0,j.useState)(""),y=(0,i.useForm)({defaultValues:{firstName:"",lastName:"",email:"",phone:"",tgmcId:"",hrdaId:"",address:"",district:"",status:""}}),z=a?.filter(a=>a.firstName?.toLowerCase().includes(u.toLowerCase())||a.lastName?.toLowerCase().includes(u.toLowerCase())||a.phone?.includes(u)||a.hrdaId?.toLowerCase().includes(u.toLowerCase())||a.tgmcId?.toLowerCase().includes(u.toLowerCase()));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Registrations"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative w-72",children:[(0,b.jsx)(l.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(d.Input,{placeholder:"Search by name, phone, HRDA/TGMC ID...",value:u,onChange:a=>v(a.target.value),className:"pl-8"})]}),(0,b.jsx)(e.Dialog,{open:q,onOpenChange:a=>{r(a),a||t(null)},children:(0,b.jsxs)(e.DialogContent,{className:"max-w-2xl",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:"Edit Registration"})}),(0,b.jsxs)("form",{onSubmit:y.handleSubmit(a=>{s&&o.mutate({id:s.id,...a},{onSuccess:()=>{r(!1),t(null),y.reset()}})}),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"First Name"}),(0,b.jsx)(d.Input,{...y.register("firstName"),placeholder:"First Name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Last Name"}),(0,b.jsx)(d.Input,{...y.register("lastName"),placeholder:"Last Name"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,b.jsx)(d.Input,{...y.register("email"),placeholder:"Email"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Phone"}),(0,b.jsx)(d.Input,{...y.register("phone"),placeholder:"Phone"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"TGMC ID"}),(0,b.jsx)(d.Input,{...y.register("tgmcId"),placeholder:"TGMC ID"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"HRDA ID"}),(0,b.jsx)(d.Input,{...y.register("hrdaId"),placeholder:"HRDA ID"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"District"}),(0,b.jsx)(d.Input,{...y.register("district"),placeholder:"District"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,b.jsx)(i.Controller,{control:y.control,name:"status",render:({field:a})=>(0,b.jsxs)(g.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Select Status"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"pending_verification",children:"Pending Verification"}),(0,b.jsx)(g.SelectItem,{value:"verified",children:"Verified"}),(0,b.jsx)(g.SelectItem,{value:"rejected",children:"Rejected"})]})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Address"}),(0,b.jsx)(d.Input,{...y.register("address"),placeholder:"Address"})]}),(0,b.jsx)(c.Button,{type:"submit",className:"w-full",disabled:o.isPending,children:"Update Registration"})]})]})})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border shadow-sm",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Name"}),(0,b.jsx)(f.TableHead,{children:"HRDA ID"}),(0,b.jsx)(f.TableHead,{children:"TGMC ID"}),(0,b.jsx)(f.TableHead,{children:"Contact"}),(0,b.jsx)(f.TableHead,{children:"Status"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(f.TableBody,{children:n?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:6,className:"text-center",children:"Loading..."})}):z?.length===0?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No registrations found"})}):z?.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsxs)(f.TableCell,{className:"font-medium",children:[a.firstName," ",a.lastName,a.district&&(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.district})]}),(0,b.jsx)(f.TableCell,{children:a.hrdaId||"-"}),(0,b.jsx)(f.TableCell,{children:a.tgmcId||"-"}),(0,b.jsxs)(f.TableCell,{children:[(0,b.jsx)("div",{className:"text-sm",children:a.phone}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.email})]}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs capitalize ${"verified"===a.status?"bg-green-100 text-green-700":"rejected"===a.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:a.status?.replace("_"," ")})}),(0,b.jsx)(f.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(c.Button,{variant:"ghost",size:"icon",onClick:()=>{t(a),y.reset({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,tgmcId:a.tgmcId,hrdaId:a.hrdaId,address:a.address,district:a.district,status:a.status}),r(!0)},children:(0,b.jsx)(k.Pencil,{className:"w-4 h-4"})}),(0,b.jsxs)(w,{children:[(0,b.jsx)(x,{asChild:!0,children:(0,b.jsx)(c.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:(0,b.jsx)(m.Trash2,{className:"w-4 h-4"})})}),(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{children:[(0,b.jsx)(S,{children:"Are you sure?"}),(0,b.jsxs)(T,{children:["This action cannot be undone. This will permanently delete the registration for ",a.firstName," ",a.lastName,"."]})]}),(0,b.jsxs)(R,{children:[(0,b.jsx)(V,{children:"Cancel"}),(0,b.jsx)(U,{onClick:()=>{var b;return b=a.id,void p.mutate(b)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},a.id))})]})})]})}V.displayName=L.displayName,a.s(["default",()=>W],55808)}];

//# sourceMappingURL=app_admin_registrations_page_tsx_eeea09f9._.js.map