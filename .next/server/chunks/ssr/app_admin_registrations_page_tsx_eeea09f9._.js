module.exports=[55808,a=>{"use strict";var b=a.i(87924),c=a.i(14001),d=a.i(40695),e=a.i(5522),f=a.i(65733),g=a.i(88237),h=a.i(87682),i=a.i(16564),j=a.i(95245),k=a.i(72131),l=a.i(99464),m=a.i(87532),n=a.i(81560),o=a.i(50104),p=a.i(70121),q=a.i(97942),r=a.i(7554),s=a.i(11011),t="AlertDialog",[u,v]=(0,o.createContextScope)(t,[q.createDialogScope]),w=(0,q.createDialogScope)(),x=a=>{let{__scopeAlertDialog:c,...d}=a,e=w(c);return(0,b.jsx)(q.Root,{...e,...d,modal:!0})};x.displayName=t;var y=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=w(d);return(0,b.jsx)(q.Trigger,{...f,...e,ref:c})});y.displayName="AlertDialogTrigger";var z=a=>{let{__scopeAlertDialog:c,...d}=a,e=w(c);return(0,b.jsx)(q.Portal,{...e,...d})};z.displayName="AlertDialogPortal";var A=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=w(d);return(0,b.jsx)(q.Overlay,{...f,...e,ref:c})});A.displayName="AlertDialogOverlay";var B="AlertDialogContent",[C,D]=u(B),E=(0,s.createSlottable)("AlertDialogContent"),F=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,children:e,...f}=a,g=w(d),h=k.useRef(null),i=(0,p.useComposedRefs)(c,h),j=k.useRef(null);return(0,b.jsx)(q.WarningProvider,{contentName:B,titleName:G,docsSlug:"alert-dialog",children:(0,b.jsx)(C,{scope:d,cancelRef:j,children:(0,b.jsxs)(q.Content,{role:"alertdialog",...g,...f,ref:i,onOpenAutoFocus:(0,r.composeEventHandlers)(f.onOpenAutoFocus,a=>{a.preventDefault(),j.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,b.jsx)(E,{children:e}),(0,b.jsx)(N,{contentRef:h})]})})})});F.displayName=B;var G="AlertDialogTitle",H=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=w(d);return(0,b.jsx)(q.Title,{...f,...e,ref:c})});H.displayName=G;var I="AlertDialogDescription",J=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=w(d);return(0,b.jsx)(q.Description,{...f,...e,ref:c})});J.displayName=I;var K=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=w(d);return(0,b.jsx)(q.Close,{...f,...e,ref:c})});K.displayName="AlertDialogAction";var L="AlertDialogCancel",M=k.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:f}=D(L,d),g=w(d),h=(0,p.useComposedRefs)(c,f);return(0,b.jsx)(q.Close,{...g,...e,ref:h})});M.displayName=L;var N=({contentRef:a})=>{let b=`\`${B}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${B}\` by passing a \`${I}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${B}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},O=a.i(97895);let P=k.forwardRef(({className:a,...c},d)=>(0,b.jsx)(A,{className:(0,O.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c,ref:d}));P.displayName=A.displayName;let Q=k.forwardRef(({className:a,...c},d)=>(0,b.jsxs)(z,{children:[(0,b.jsx)(P,{}),(0,b.jsx)(F,{ref:d,className:(0,O.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c})]}));Q.displayName=F.displayName;let R=({className:a,...c})=>(0,b.jsx)("div",{className:(0,O.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...c});R.displayName="AlertDialogHeader";let S=({className:a,...c})=>(0,b.jsx)("div",{className:(0,O.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});S.displayName="AlertDialogFooter";let T=k.forwardRef(({className:a,...c},d)=>(0,b.jsx)(H,{ref:d,className:(0,O.cn)("text-lg font-semibold",a),...c}));T.displayName=H.displayName;let U=k.forwardRef(({className:a,...c},d)=>(0,b.jsx)(J,{ref:d,className:(0,O.cn)("text-sm text-muted-foreground",a),...c}));U.displayName=J.displayName;let V=k.forwardRef(({className:a,...c},e)=>(0,b.jsx)(K,{ref:e,className:(0,O.cn)((0,d.buttonVariants)(),a),...c}));V.displayName=K.displayName;let W=k.forwardRef(({className:a,...c},e)=>(0,b.jsx)(M,{ref:e,className:(0,O.cn)((0,d.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",a),...c}));function X(){let{data:a,isLoading:o}=(0,i.useRegistrationsList)(),p=(0,i.useUpdateRegistration)(),q=(0,i.useDeleteRegistration)(),[r,s]=(0,k.useState)(!1),[t,u]=(0,k.useState)(null),[v,w]=(0,k.useState)(""),z=(0,j.useForm)({defaultValues:{firstName:"",lastName:"",email:"",phone:"",tgmcId:"",hrdaId:"",address:"",district:"",status:""}}),A=a?.filter(a=>a.firstName?.toLowerCase().includes(v.toLowerCase())||a.lastName?.toLowerCase().includes(v.toLowerCase())||a.phone?.includes(v)||a.hrdaId?.toLowerCase().includes(v.toLowerCase())||a.tgmcId?.toLowerCase().includes(v.toLowerCase()));return(0,b.jsxs)(c.AdminLayout,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Registrations"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative w-72",children:[(0,b.jsx)(m.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(e.Input,{placeholder:"Search by name, phone, HRDA/TGMC ID...",value:v,onChange:a=>w(a.target.value),className:"pl-8"})]}),(0,b.jsx)(f.Dialog,{open:r,onOpenChange:a=>{s(a),a||u(null)},children:(0,b.jsxs)(f.DialogContent,{className:"max-w-2xl",children:[(0,b.jsx)(f.DialogHeader,{children:(0,b.jsx)(f.DialogTitle,{children:"Edit Registration"})}),(0,b.jsxs)("form",{onSubmit:z.handleSubmit(a=>{t&&p.mutate({id:t.id,...a},{onSuccess:()=>{s(!1),u(null),z.reset()}})}),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"First Name"}),(0,b.jsx)(e.Input,{...z.register("firstName"),placeholder:"First Name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Last Name"}),(0,b.jsx)(e.Input,{...z.register("lastName"),placeholder:"Last Name"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,b.jsx)(e.Input,{...z.register("email"),placeholder:"Email"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Phone"}),(0,b.jsx)(e.Input,{...z.register("phone"),placeholder:"Phone"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"TGMC ID"}),(0,b.jsx)(e.Input,{...z.register("tgmcId"),placeholder:"TGMC ID"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"HRDA ID"}),(0,b.jsx)(e.Input,{...z.register("hrdaId"),placeholder:"HRDA ID"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"District"}),(0,b.jsx)(e.Input,{...z.register("district"),placeholder:"District"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,b.jsx)(j.Controller,{control:z.control,name:"status",render:({field:a})=>(0,b.jsxs)(h.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select Status"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"pending_verification",children:"Pending Verification"}),(0,b.jsx)(h.SelectItem,{value:"verified",children:"Verified"}),(0,b.jsx)(h.SelectItem,{value:"rejected",children:"Rejected"})]})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Address"}),(0,b.jsx)(e.Input,{...z.register("address"),placeholder:"Address"})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full",disabled:p.isPending,children:"Update Registration"})]})]})})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border shadow-sm",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableHead,{children:"Name"}),(0,b.jsx)(g.TableHead,{children:"HRDA ID"}),(0,b.jsx)(g.TableHead,{children:"TGMC ID"}),(0,b.jsx)(g.TableHead,{children:"Contact"}),(0,b.jsx)(g.TableHead,{children:"Status"}),(0,b.jsx)(g.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(g.TableBody,{children:o?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:6,className:"text-center",children:"Loading..."})}):A?.length===0?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No registrations found"})}):A?.map(a=>(0,b.jsxs)(g.TableRow,{children:[(0,b.jsxs)(g.TableCell,{className:"font-medium",children:[a.firstName," ",a.lastName,a.district&&(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.district})]}),(0,b.jsx)(g.TableCell,{children:a.hrdaId||"-"}),(0,b.jsx)(g.TableCell,{children:a.tgmcId||"-"}),(0,b.jsxs)(g.TableCell,{children:[(0,b.jsx)("div",{className:"text-sm",children:a.phone}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.email})]}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs capitalize ${"verified"===a.status?"bg-green-100 text-green-700":"rejected"===a.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:a.status?.replace("_"," ")})}),(0,b.jsx)(g.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>{u(a),z.reset({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,tgmcId:a.tgmcId,hrdaId:a.hrdaId,address:a.address,district:a.district,status:a.status}),s(!0)},children:(0,b.jsx)(l.Pencil,{className:"w-4 h-4"})}),(0,b.jsxs)(x,{children:[(0,b.jsx)(y,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:(0,b.jsx)(n.Trash2,{className:"w-4 h-4"})})}),(0,b.jsxs)(Q,{children:[(0,b.jsxs)(R,{children:[(0,b.jsx)(T,{children:"Are you sure?"}),(0,b.jsxs)(U,{children:["This action cannot be undone. This will permanently delete the registration for ",a.firstName," ",a.lastName,"."]})]}),(0,b.jsxs)(S,{children:[(0,b.jsx)(W,{children:"Cancel"}),(0,b.jsx)(V,{onClick:()=>{var b;return b=a.id,void q.mutate(b)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},a.id))})]})})]})}W.displayName=M.displayName,a.s(["default",()=>X],55808)}];

//# sourceMappingURL=app_admin_registrations_page_tsx_eeea09f9._.js.map