module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},37738,a=>{"use strict";var b=a.i(72131),c=a.i(50104),d=a.i(70121),e=a.i(11011),f=a.i(87924);function g(a){let g=a+"CollectionProvider",[h,i]=(0,c.createContextScope)(g),[j,k]=h(g,{collectionRef:{current:null},itemMap:new Map}),l=a=>{let{scope:c,children:d}=a,e=b.default.useRef(null),g=b.default.useRef(new Map).current;return(0,f.jsx)(j,{scope:c,itemMap:g,collectionRef:e,children:d})};l.displayName=g;let m=a+"CollectionSlot",n=(0,e.createSlot)(m),o=b.default.forwardRef((a,b)=>{let{scope:c,children:e}=a,g=k(m,c),h=(0,d.useComposedRefs)(b,g.collectionRef);return(0,f.jsx)(n,{ref:h,children:e})});o.displayName=m;let p=a+"CollectionItemSlot",q="data-radix-collection-item",r=(0,e.createSlot)(p),s=b.default.forwardRef((a,c)=>{let{scope:e,children:g,...h}=a,i=b.default.useRef(null),j=(0,d.useComposedRefs)(c,i),l=k(p,e);return b.default.useEffect(()=>(l.itemMap.set(i,{ref:i,...h}),()=>void l.itemMap.delete(i))),(0,f.jsx)(r,{...{[q]:""},ref:j,children:g})});return s.displayName=p,[{Provider:l,Slot:o,ItemSlot:s},function(c){let d=k(a+"CollectionConsumer",c);return b.default.useCallback(()=>{let a=d.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${q}]`));return Array.from(d.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[d.collectionRef,d.itemMap])},i]}a.s(["createCollection",()=>g])},7827,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},28094,5784,a=>{"use strict";var b=a.i(72131),c=a.i(30553),d=a.i(87924),e=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));e.displayName="VisuallyHidden",a.s(["Root",()=>e,"VisuallyHidden",()=>e],28094);let f=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>f],5784)},52640,a=>{"use strict";var b=a.i(36570),c=a.i(63592);let d={validation:b.z.object({message:b.z.string(),field:b.z.string().optional()}),notFound:b.z.object({message:b.z.string()}),internal:b.z.object({message:b.z.string()}),unauthorized:b.z.object({message:b.z.string()})},e={announcements:{list:{method:"GET",path:"/api/announcements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/announcements",input:c.insertAnnouncementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/announcements/:id",input:c.insertAnnouncementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/announcements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},panels:{list:{method:"GET",path:"/api/panels",input:b.z.object({type:b.z.enum(["state","district"]).optional(),district:b.z.string().optional()}).optional(),responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/panels",input:c.insertPanelSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/panels/:id",input:c.insertPanelSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/panels/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},achievements:{list:{method:"GET",path:"/api/achievements",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/achievements",input:c.insertAchievementSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/achievements/:id",input:c.insertAchievementSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/achievements/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},mediaCoverage:{list:{method:"GET",path:"/api/media-coverage",responses:{200:b.z.array(b.z.custom())}},create:{method:"POST",path:"/api/media-coverage",input:c.insertMediaCoverageSchema,responses:{201:b.z.custom(),400:d.validation,401:d.unauthorized}},update:{method:"PUT",path:"/api/media-coverage/:id",input:c.insertMediaCoverageSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}},delete:{method:"DELETE",path:"/api/media-coverage/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}}},departments:{list:{method:"GET",path:"/api/departments",responses:{200:b.z.array(b.z.custom())}},update:{method:"PUT",path:"/api/departments/:id",input:c.insertDepartmentSchema.partial(),responses:{200:b.z.custom(),404:d.notFound,401:d.unauthorized}}},registrations:{search:{method:"GET",path:"/api/registrations/search",input:b.z.object({tgmcId:b.z.string().optional(),phone:b.z.string().optional()}),responses:{200:b.z.array(b.z.custom()),404:d.notFound}},create:{method:"POST",path:"/api/registrations",input:c.insertRegistrationSchema,responses:{201:b.z.custom(),400:d.validation}},update:{method:"PUT",path:"/api/registrations/:id",input:c.insertRegistrationSchema.partial(),responses:{200:b.z.custom(),404:d.notFound}},delete:{method:"DELETE",path:"/api/registrations/:id",responses:{204:b.z.void(),404:d.notFound,401:d.unauthorized}},list:{method:"GET",path:"/api/admin/registrations",responses:{200:b.z.array(b.z.custom()),401:d.unauthorized}}}};function f(a,b){let c=a;return b&&Object.entries(b).forEach(([a,b])=>{c.includes(`:${a}`)&&(c=c.replace(`:${a}`,String(b)))}),c}a.s(["api",0,e,"buildUrl",()=>f])},46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},80281,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:k,defaultChecked:l,required:m,disabled:o,value:p="on",onCheckedChange:q,form:r,...u}=a,[v,w]=c.useState(null),x=(0,e.useComposedRefs)(f,a=>w(a)),y=c.useRef(!1),z=!v||r||!!v.closest("form"),[A=!1,B]=(0,g.useControllableState)({prop:k,defaultProp:l,onChange:q});return(0,b.jsxs)(n,{scope:h,checked:A,disabled:o,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":t(A),"data-disabled":o?"":void 0,disabled:o,value:p,...u,ref:x,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(s,{control:v,bubbles:!y.current,name:i,value:p,checked:A,required:m,disabled:o,form:r,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,j=c.useRef(null),k=(0,h.usePrevious)(e),l=(0,i.useSize)(d);return c.useEffect(()=>{let a=j.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t(a){return a?"checked":"unchecked"}var u=a.i(97895);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(p,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...c,ref:d,children:(0,b.jsx)(r,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v.displayName=p.displayName,a.s(["Switch",()=>v],80281)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},59501,a=>{"use strict";var b=a.i(95245);let c=(a,c,d)=>{if(a&&"reportValidity"in a){let e=(0,b.get)(d,c);a.setCustomValidity(e&&e.message||""),a.reportValidity()}},d=(a,b)=>{for(let d in b.fields){let e=b.fields[d];e&&e.ref&&"reportValidity"in e.ref?c(e.ref,d,a):e.refs&&e.refs.forEach(b=>c(b,d,a))}},e=(a,b)=>a.some(a=>a.startsWith(b+"."));var f=function(a,c){for(var d={};a.length;){var e=a[0],f=e.code,g=e.message,h=e.path.join(".");if(!d[h])if("unionErrors"in e){var i=e.unionErrors[0].errors[0];d[h]={message:i.message,type:i.code}}else d[h]={message:g,type:f};if("unionErrors"in e&&e.unionErrors.forEach(function(b){return b.errors.forEach(function(b){return a.push(b)})}),c){var j=d[h].types,k=j&&j[e.code];d[h]=(0,b.appendErrors)(h,c,d,f,k?[].concat(k,e.message):e.message)}a.shift()}return d},g=function(a,c,g){return void 0===g&&(g={}),function(h,i,j){try{return Promise.resolve(function(b,e){try{var f=Promise.resolve(a["sync"===g.mode?"parse":"parseAsync"](h,c)).then(function(a){return j.shouldUseNativeValidation&&d({},j),{errors:{},values:g.raw?h:a}})}catch(a){return e(a)}return f&&f.then?f.then(void 0,e):f}(0,function(a){if(Array.isArray(null==a?void 0:a.errors))return{values:{},errors:((a,c)=>{c.shouldUseNativeValidation&&d(a,c);let f={};for(let d in a){let g=(0,b.get)(c.fields,d),h=Object.assign(a[d]||{},{ref:g&&g.ref});if(e(c.names||Object.keys(a),d)){let a=Object.assign({},(0,b.get)(f,d));(0,b.set)(a,"root",h),(0,b.set)(f,d,a)}else(0,b.set)(f,d,h)}return f})(f(a.errors,!j.shouldUseNativeValidation&&"all"===j.criteriaMode),j)};throw a}))}catch(a){return Promise.reject(a)}}};a.s(["zodResolver",()=>g],59501)},88237,99464,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h],88237);let k=(0,a.i(70106).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>k],99464)},65733,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(97895);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},3688,a=>{"use strict";var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},62142,a=>{"use strict";var b=a.i(87924),c=a.i(14001),d=a.i(40695),e=a.i(5522),f=a.i(46893),g=a.i(65733),h=a.i(88237),i=a.i(87682),j=a.i(33217),k=a.i(70025),l=a.i(37927),m=a.i(52640),n=a.i(77687),o=a.i(95245),p=a.i(59501),q=a.i(63592),r=a.i(72131),s=a.i(99464),t=a.i(81560),u=a.i(15618),v=a.i(38632),w=a.i(80281);function x(){let{data:a,isLoading:x}=(0,j.useQuery)({queryKey:[m.api.achievements.list.path],queryFn:async()=>{let a=await fetch(m.api.achievements.list.path,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch achievements");return m.api.achievements.list.responses[200].parse(await a.json())}}),y=function(){let a=(0,l.useQueryClient)(),{toast:b}=(0,n.useToast)();return(0,k.useMutation)({mutationFn:async a=>{let b,c={};a instanceof FormData?b=a:(b=JSON.stringify(a),c={"Content-Type":"application/json"});let d=await fetch(m.api.achievements.create.path,{method:m.api.achievements.create.method,headers:c,body:b,credentials:"include"});if(!d.ok)throw Error("Failed to create achievement");return m.api.achievements.create.responses[201].parse(await d.json())},onSuccess:()=>{a.invalidateQueries({queryKey:[m.api.achievements.list.path]}),b({title:"Success",description:"Achievement created successfully"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}(),z=function(){let a=(0,l.useQueryClient)(),{toast:b}=(0,n.useToast)();return(0,k.useMutation)({mutationFn:async({id:a,data:b})=>{let c,d=(0,m.buildUrl)(m.api.achievements.update.path,{id:a}),e={};b instanceof FormData?c=b:(c=JSON.stringify(b),e={"Content-Type":"application/json"});let f=await fetch(d,{method:m.api.achievements.update.method,headers:e,body:c,credentials:"include"});if(!f.ok)throw Error("Failed to update achievement");return m.api.achievements.update.responses[200].parse(await f.json())},onSuccess:()=>{a.invalidateQueries({queryKey:[m.api.achievements.list.path]}),b({title:"Success",description:"Achievement updated successfully"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}(),A=function(){let a=(0,l.useQueryClient)(),{toast:b}=(0,n.useToast)();return(0,k.useMutation)({mutationFn:async a=>{let b=(0,m.buildUrl)(m.api.achievements.delete.path,{id:a});if(!(await fetch(b,{method:m.api.achievements.delete.method,credentials:"include"})).ok)throw Error("Failed to delete achievement")},onSuccess:()=>{a.invalidateQueries({queryKey:[m.api.achievements.list.path]}),b({title:"Success",description:"Achievement deleted"})},onError:a=>{b({title:"Error",description:a.message,variant:"destructive"})}})}(),[B,C]=(0,r.useState)(!1),[D,E]=(0,r.useState)(null),[F,G]=(0,r.useState)(null),[H,I]=(0,r.useState)(null),J=(0,o.useForm)({resolver:(0,p.zodResolver)(q.insertAchievementSchema),defaultValues:{title:"",description:"",imageUrl:"",date:new Date().toISOString().split("T")[0],category:"association",active:!0}}),K=()=>{C(!1),E(null),G(null),I(null),J.reset()};return(0,b.jsxs)(c.AdminLayout,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Achievements"}),(0,b.jsxs)(g.Dialog,{open:B,onOpenChange:a=>{a?C(!0):K()},children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{children:[(0,b.jsx)(u.Plus,{className:"w-4 h-4 mr-2"})," Add Achievement"]})}),(0,b.jsxs)(g.DialogContent,{className:"max-w-lg",children:[(0,b.jsx)(g.DialogHeader,{children:(0,b.jsx)(g.DialogTitle,{children:D?"Edit Achievement":"New Achievement"})}),(0,b.jsxs)("form",{onSubmit:J.handleSubmit(a=>{let b=new FormData;b.append("title",a.title),b.append("description",a.description),a.date&&b.append("date",a.date),b.append("category",a.category),b.append("active",String(a.active)),F?b.append("image",F):D&&a.imageUrl&&b.append("imageUrl",a.imageUrl),D?z.mutate({id:D.id,data:b},{onSuccess:()=>{K()}}):y.mutate(b,{onSuccess:()=>{K()}})}),className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,b.jsx)(e.Input,{...J.register("title"),placeholder:"Title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,b.jsx)(o.Controller,{control:J.control,name:"category",render:({field:a})=>(0,b.jsxs)(i.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select Category"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"association",children:"Association Achievement"}),(0,b.jsx)(i.SelectItem,{value:"legal",children:"Legal Victory"}),(0,b.jsx)(i.SelectItem,{value:"post_election",children:"Post Election"}),(0,b.jsx)(i.SelectItem,{value:"legacy",children:"Legacy (Election Victory)"})]})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,b.jsx)(f.Textarea,{...J.register("description"),placeholder:"Details..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Image"}),(0,b.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-slate-50 hover:bg-slate-100 transition-colors cursor-pointer relative",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&(G(b),I(URL.createObjectURL(b)),J.setValue("imageUrl","/uploads/placeholder"))},className:"absolute inset-0 opacity-0 cursor-pointer"}),H?(0,b.jsxs)("div",{className:"relative w-full",children:[(0,b.jsx)("img",{src:H,alt:"Preview",className:"h-40 w-full object-contain rounded-md"}),(0,b.jsxs)("div",{className:"text-center mt-2",children:[(0,b.jsx)("p",{className:"text-sm text-emerald-600 font-medium",children:F?"New Image Selected":"Current Image"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tap to change"})]})]}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(v.Image,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Tap to upload image"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG, WebP"})]})]}),(0,b.jsx)("input",{type:"hidden",...J.register("imageUrl")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Date"}),(0,b.jsx)(e.Input,{type:"date",...J.register("date")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,b.jsx)(o.Controller,{control:J.control,name:"active",render:({field:a})=>(0,b.jsx)(w.Switch,{checked:a.value,onCheckedChange:a.onChange})}),(0,b.jsx)("label",{className:"text-sm font-medium",children:"Active (Visible)"})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full",disabled:y.isPending||z.isPending,children:D?"Update":"Create"})]})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border shadow-sm",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Preview"}),(0,b.jsx)(h.TableHead,{children:"Title"}),(0,b.jsx)(h.TableHead,{children:"Category"}),(0,b.jsx)(h.TableHead,{children:"Date"}),(0,b.jsx)(h.TableHead,{children:"Status"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsxs)(h.TableBody,{children:[x?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:6,className:"text-center",children:"Loading..."})}):a?.map(a=>(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableCell,{children:a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:"",className:"h-10 w-auto object-contain rounded"}):(0,b.jsx)("div",{className:"h-10 w-10 bg-slate-100 rounded flex items-center justify-center text-xs text-muted-foreground",children:"No Img"})}),(0,b.jsx)(h.TableCell,{className:"font-medium max-w-xs truncate",children:a.title}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:"capitalize",children:(a=>{switch(a){case"association":return"Association";case"legal":return"Legal Victory";case"post_election":return"Post Election";case"legacy":return"Legacy";default:return a}})(a.category)})}),(0,b.jsx)(h.TableCell,{children:a.date?new Date(a.date).toLocaleDateString():"-"}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${a.active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:a.active?"Active":"Hidden"})}),(0,b.jsxs)(h.TableCell,{className:"text-right",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>{E(a),I(a.imageUrl),J.reset({...a,date:a.date?new Date(a.date).toISOString().split("T")[0]:""}),C(!0)},children:(0,b.jsx)(s.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>{var b;return b=a.id,void(confirm("Delete this achievement?")&&A.mutate(b))},children:(0,b.jsx)(t.Trash2,{className:"w-4 h-4"})})]})]},a.id)),a?.length===0&&(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:6,className:"text-center text-muted-foreground p-8",children:"No achievements found."})})]})]})})]})}a.s(["default",()=>x],62142)}];

//# sourceMappingURL=_ba05519f._.js.map