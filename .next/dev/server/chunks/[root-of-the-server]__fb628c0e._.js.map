{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/KoushikVarakala/Downloads/HRDA-Connect/app/api/registrations/order/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport Razorpay from \"razorpay\";\n\nexport async function POST(request: Request) {\n    try {\n        const { amount, currency } = await request.json();\n\n        if (!process.env.RAZORPAY_KEY_ID || !process.env.RAZORPAY_KEY_SECRET) {\n            console.warn(\"Razorpay keys missing. Using mock order.\");\n            return NextResponse.json({\n                id: `order_mock_${Date.now()}`,\n                amount: amount * 100,\n                currency: currency,\n                key_id: \"rzp_test_mock_key\"\n            });\n        }\n\n        const razorpay = new Razorpay({\n            key_id: process.env.RAZORPAY_KEY_ID,\n            key_secret: process.env.RAZORPAY_KEY_SECRET,\n        });\n\n        const options = {\n            amount: amount * 100,\n            currency: currency,\n            receipt: `receipt_${Date.now()}`,\n        };\n\n        const order = await razorpay.orders.create(options);\n        return NextResponse.json({ ...order, key_id: process.env.RAZORPAY_KEY_ID });\n    } catch (error: any) {\n        console.error(\"Razorpay Error:\", error);\n        return NextResponse.json({ message: \"Failed to create order\" }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE/C,IAAI,CAAC,QAAQ,GAAG,CAAC,eAAe,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,EAAE;YAClE,QAAQ,IAAI,CAAC;YACb,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACrB,IAAI,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI;gBAC9B,QAAQ,SAAS;gBACjB,UAAU;gBACV,QAAQ;YACZ;QACJ;QAEA,MAAM,WAAW,IAAI,yJAAQ,CAAC;YAC1B,QAAQ,QAAQ,GAAG,CAAC,eAAe;YACnC,YAAY,QAAQ,GAAG,CAAC,mBAAmB;QAC/C;QAEA,MAAM,UAAU;YACZ,QAAQ,SAAS;YACjB,UAAU;YACV,SAAS,CAAC,QAAQ,EAAE,KAAK,GAAG,IAAI;QACpC;QAEA,MAAM,QAAQ,MAAM,SAAS,MAAM,CAAC,MAAM,CAAC;QAC3C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,GAAG,KAAK;YAAE,QAAQ,QAAQ,GAAG,CAAC,eAAe;QAAC;IAC7E,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ"}}]
}