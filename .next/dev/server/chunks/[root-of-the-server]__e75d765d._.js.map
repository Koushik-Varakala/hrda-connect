{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/KoushikVarakala/Downloads/HRDA-Connect/app/api/upload/route.ts"],"sourcesContent":["\nimport { NextResponse } from \"next/server\";\nimport { v2 as cloudinary } from \"cloudinary\";\n\n// Configure Cloudinary\ncloudinary.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport async function POST(req: Request) {\n    try {\n        const formData = await req.formData();\n        const file = formData.get(\"file\") as File;\n\n        if (!file) {\n            return NextResponse.json({ message: \"No file provided\" }, { status: 400 });\n        }\n\n        // Convert file to buffer\n        const arrayBuffer = await file.arrayBuffer();\n        const buffer = Buffer.from(arrayBuffer);\n\n        // Upload to Cloudinary\n        const result = await new Promise<any>((resolve, reject) => {\n            cloudinary.uploader.upload_stream(\n                { folder: \"hrda_connect\" },\n                (error, result) => {\n                    if (error) reject(error);\n                    else resolve(result);\n                }\n            ).end(buffer);\n        });\n\n        return NextResponse.json({ url: result.secure_url });\n    } catch (error) {\n        console.error(\"Upload error:\", error);\n        return NextResponse.json({ message: \"Upload failed\" }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEA,uBAAuB;AACvB,gJAAU,CAAC,MAAM,CAAC;IACd,YAAY,QAAQ,GAAG,CAAC,qBAAqB;IAC7C,SAAS,QAAQ,GAAG,CAAC,kBAAkB;IACvC,YAAY,QAAQ,GAAG,CAAC,qBAAqB;AACjD;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,WAAW,MAAM,IAAI,QAAQ;QACnC,MAAM,OAAO,SAAS,GAAG,CAAC;QAE1B,IAAI,CAAC,MAAM;YACP,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,yBAAyB;QACzB,MAAM,cAAc,MAAM,KAAK,WAAW;QAC1C,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,uBAAuB;QACvB,MAAM,SAAS,MAAM,IAAI,QAAa,CAAC,SAAS;YAC5C,gJAAU,CAAC,QAAQ,CAAC,aAAa,CAC7B;gBAAE,QAAQ;YAAe,GACzB,CAAC,OAAO;gBACJ,IAAI,OAAO,OAAO;qBACb,QAAQ;YACjB,GACF,GAAG,CAAC;QACV;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,KAAK,OAAO,UAAU;QAAC;IACtD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACzE;AACJ"}}]
}